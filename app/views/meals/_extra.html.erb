<% # rendered by cooks_and_signups %>

<style>
#extra {
  flex-basis: 20%;
}
#extra_container {
  display: flex;
  height: 250px;
  border: thin solid black;
  padding: 0.5rem 0.5rem 0.5rem 0.5rem;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;

}
#extra_title {
  margin-bottom: 1rem;
  text-decoration: underline;
}
#extra_input {
  height: 50px;
  width: 50px;
}
#auto_close {
  font-size: 14px;
}
</style>

<% disabled = meal.reconciled? || !meal.closed || meal.date < Time.now ? "disabled" : "" %>
<% extras = disabled == "disabled" ? 'n/a' : meal.extras %>

<section id="extra">
  <div id="extra_container">
    <h3 id="extra_title">Extras</h3>
    <input id="extra_input" <%= disabled %> value="<%= extras %>"/>
    <% if !meal.reconciled? && !meal.closed && meal.date > Time.now && meal.date <= 2.days.from_now %>
      <button type="button">Close</button>
    <% elsif !meal.reconciled? && !meal.closed && meal.date > Time.now && meal.date > 2.days.from_now %>
      <label id="auto_close"><input type="checkbox" value="<%= meal.id %>" />&nbspAuto-close 48 hours before meal</label>
    <% end %>
  </div>
</section>
